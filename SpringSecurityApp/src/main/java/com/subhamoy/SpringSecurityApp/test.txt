


COMPLETE CONTROL FLOW (Login â†’ Controller)
1ï¸âƒ£ Client requests a protected URL
2ï¸âƒ£ SecurityFilterChain intercepts the request
3ï¸âƒ£ Spring checks SecurityContext
4ï¸âƒ£ Not authenticated â†’ redirect to /login
5ï¸âƒ£ User submits username + password
6ï¸âƒ£ UsernamePasswordAuthenticationFilter intercepts login request
7ï¸âƒ£ AuthenticationManager.authenticate() is called
8ï¸âƒ£ AuthenticationManager asks UserDetailsService:
       â†’ loadUserByUsername(username)
9ï¸âƒ£ UserDetailsService:
       âœ” User found â†’ return UserDetails
       âŒ User not found â†’ throw UsernameNotFoundException
ğŸ”Ÿ Spring gets encoded password from UserDetails
1ï¸âƒ£1ï¸âƒ£ PasswordEncoder.matches(raw, encoded)
1ï¸âƒ£2ï¸âƒ£ If match â†’ authentication success
1ï¸âƒ£3ï¸âƒ£ Authentication object stored in SecurityContext
1ï¸âƒ£4ï¸âƒ£ SecurityContext saved (session)
1ï¸âƒ£5ï¸âƒ£ Request forwarded to Controller

ğŸ§  Simple memory line
Filter â†’ Manager â†’ Service â†’ Encoder â†’ Context â†’ Controller


ğŸ”¥ Interview-ready one-liner

â€œSpring Security intercepts requests using filters, delegates authentication to AuthenticationManager,
 loads users through UserDetailsService, validates passwords with PasswordEncoder, stores authentication
  in SecurityContext, and then allows access to controllers.â€

BCrypt works like this:

encode("root") â†’ $2a$10$XyZ...   (hash + salt)
encode("root") â†’ $2a$10$AbC...   (different string)


ğŸ‘‰ Same password â†’ different encoded output
ğŸ‘‰ This is NORMAL and SECURE







ğŸ‘‰ Encoded password is NOT the password the user types on the login page.

User types password (RAW)
        â†“
Spring takes encoded password (from UserDetailsService)
        â†“
BCryptPasswordEncoder.matches(raw, encoded)
        â†“
true â†’ login success
false â†’ login fail




















@Bean
public PasswordEncoder passwordEncoder() {
    return new BCryptPasswordEncoder();
}

1ï¸âƒ£ Interface vs Implementation (Java + Spring mindset)
What this means:

PasswordEncoder â†’ interface
(defines what operations exist: encode(), matches())

BCryptPasswordEncoder â†’ implementation class
(defines how those operations work)

This is classic Java OOP:

PasswordEncoder encoder = new BCryptPasswordEncoder();

ğŸ‘‰ passwordEncoder is a Spring-managed object (bean) whose TYPE is the PasswordEncoder interface,
and whose actual implementation is BCryptPasswordEncoder.

So in simple words:

passwordEncoder = object of BCryptPasswordEncoder, referenced through the PasswordEncoder interface.


ğŸ§  Final mental picture
PasswordEncoder (interface)
        â†‘
BCryptPasswordEncoder (class)
        â†‘
passwordEncoder bean (object)

ğŸ¯ Interview-ready one-liner

If asked:

â€œWhat is passwordEncoder?â€

Answer:

â€œIt is a Spring bean of type PasswordEncoder interface, implemented by BCryptPasswordEncoder,
 used by Spring Security to encode and validate passwords.â€